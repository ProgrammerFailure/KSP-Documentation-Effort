<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.7">
  <compounddef id="_kerbal_expression_a_i_8cs" kind="file">
    <compoundname>KerbalExpressionAI.cs</compoundname>
    <innerclass refid="class_kerbal_expression_a_i" prot="public">KerbalExpressionAI</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="keyword">using</highlight><highlight class="normal"><sp/>System.Collections;</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>UnityEngine;</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight></codeline>
<codeline lineno="4" refid="class_kerbal_expression_a_i" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_kerbal_expression_a_i" kindref="compound">KerbalExpressionAI</ref><sp/>:<sp/>MonoBehaviour</highlight></codeline>
<codeline lineno="5"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_proto_crew_member" kindref="compound">ProtoCrewMember</ref><sp/><ref refid="class_kerbal_expression_a_i_1ad010e53e0eef27ede2f79afdd6facf30" kindref="member">protoCrewMember</ref>;</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Mesh<sp/><ref refid="class_kerbal_expression_a_i_1ab758f46e2b7e7b67d9f6fe46bb6c6fe7" kindref="member">idleMesh</ref>;</highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Mesh[]<sp/><ref refid="class_kerbal_expression_a_i_1a58066dd26ef2bac9426d1e16df0e9e2c" kindref="member">wheeeMeshes</ref>;</highlight></codeline>
<codeline lineno="10"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Mesh[]<sp/><ref refid="class_kerbal_expression_a_i_1abc6b214141601dc3f9355970a8adc858" kindref="member">panicMeshes</ref>;</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Transform<sp/><ref refid="class_kerbal_expression_a_i_1af26cf5df6892834fb25d74dd3d411872" kindref="member">headRef</ref>,<sp/>neckJoint;</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>MeshFilter<sp/><ref refid="class_kerbal_expression_a_i_1a4d7c080e00bbb79a63e8ed4728924ac8" kindref="member">headMesh</ref>;</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1aac77ab28b9dc5a106f38f0870c39c79a" kindref="member">panicLevel</ref>;</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a9362c2958836bb1ebfafa524f949b85f" kindref="member">wheeeLevel</ref>;</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a87330df7d1fae560cb3ca3324ecd7cff" kindref="member">idleThreshold</ref><sp/>=<sp/>0.2f;<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/>Mesh<sp/><ref refid="class_kerbal_expression_a_i_1ad5f2cae4b200ffe7433f4632bb8c6b09" kindref="member">currentMesh</ref>;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a5ca225b622e9714f19c67e824ca63ef9" kindref="member">headBobAmount</ref><sp/>=<sp/>20.0f;</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1ae5a008bc69d397363d40d23e3886dc45" kindref="member">updateInterval</ref>;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a806aa43742372ac51192f70df4d5cc91" kindref="member">noiseSeed</ref>;</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/>Quaternion<sp/><ref refid="class_kerbal_expression_a_i_1a0f6b750124cd7c5892693edc7ce8574e" kindref="member">helmetInitRot</ref>;</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a3aeee5bdf4271e46c52f84bb7665ffa3" kindref="member">flight_velocity</ref>;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a36885e47103da1e8be41cd02ec63cb92" kindref="member">flight_angularV</ref>;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a3b78a52f20c3e36541abb333df4c425c" kindref="member">flight_gee</ref>;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a35d22bc2f8276e311eec5e8ed7aceb8e" kindref="member">fearFactor</ref>;<sp/></highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a3b3282619baeac6c1539cd6d146929ca" kindref="member">expression</ref>;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1afc379ee04791113a735c59987524025e" kindref="member">running</ref>;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//protected<sp/>string<sp/>crewmemberName;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a938b4987c82ef1df75bf09eca5b3d908" kindref="member">isBadass</ref>;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1ad4ea4ae72df88d62713bb6db83092532" kindref="member">courage</ref>;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a9b468d2e6ffa6fac1bed4afa267292f1" kindref="member">stupidity</ref>;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1aeac34255abbd2fb1a2164a4cf2228b80" kindref="member">Awake</ref>()</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1afc379ee04791113a735c59987524025e" kindref="member">running</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_kerbal_expression_a_i_1a4d7c080e00bbb79a63e8ed4728924ac8" kindref="member">headMesh</ref>)<sp/><ref refid="class_kerbal_expression_a_i_1ad5f2cae4b200ffe7433f4632bb8c6b09" kindref="member">currentMesh</ref><sp/>=<sp/>headMesh.mesh;<sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GameEvents.onPartExplode.Add(<ref refid="class_kerbal_expression_a_i_1a9d55de5e66144c8a0ba2c523141935fc" kindref="member">explosionReaction</ref>);</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a1688c3fc5f9fc300cf5a6ecb66d8865c" kindref="member">OnDestroy</ref>()</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GameEvents.onPartExplode.Remove(<ref refid="class_kerbal_expression_a_i_1a9d55de5e66144c8a0ba2c523141935fc" kindref="member">explosionReaction</ref>);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a9d55de5e66144c8a0ba2c523141935fc" kindref="member">explosionReaction</ref>(<ref refid="class_game_events" kindref="compound">GameEvents</ref>.ExplosionReaction<sp/>er)</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a35d22bc2f8276e311eec5e8ed7aceb8e" kindref="member">fearFactor</ref><sp/>=<sp/>(er.magnitude<sp/>*<sp/>100f<sp/>-<sp/>er.distance);</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a80ad77051887829a44e569ad0d971615" kindref="member">Start</ref>()</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal" kindref="compound">Kerbal</ref><sp/>kerbal<sp/>=<sp/>GetComponent&lt;Kerbal&gt;();</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(kerbal)</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1ad010e53e0eef27ede2f79afdd6facf30" kindref="member">protoCrewMember</ref><sp/>=<sp/>kerbal.protoCrewMember;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1ae5a008bc69d397363d40d23e3886dc45" kindref="member">updateInterval</ref><sp/>=<sp/>kerbal.updateInterval;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a806aa43742372ac51192f70df4d5cc91" kindref="member">noiseSeed</ref><sp/>=<sp/>kerbal.noiseSeed;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1ae5a008bc69d397363d40d23e3886dc45" kindref="member">updateInterval</ref><sp/>=<sp/>Random.Range(0.35f,<sp/>0.65f);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a806aa43742372ac51192f70df4d5cc91" kindref="member">noiseSeed</ref><sp/>=<sp/>Random.Range(0,<sp/>20);<sp/><sp/></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1afc379ee04791113a735c59987524025e" kindref="member">running</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a35d22bc2f8276e311eec5e8ed7aceb8e" kindref="member">fearFactor</ref><sp/>=<sp/><ref refid="class_kerbal_expression_a_i_1aac77ab28b9dc5a106f38f0870c39c79a" kindref="member">panicLevel</ref><sp/>=<sp/><ref refid="class_kerbal_expression_a_i_1a9362c2958836bb1ebfafa524f949b85f" kindref="member">wheeeLevel</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a3b78a52f20c3e36541abb333df4c425c" kindref="member">flight_gee</ref><sp/>=<sp/>1f;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//crewmemberName<sp/>=<sp/>protoCrewMember.name;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a938b4987c82ef1df75bf09eca5b3d908" kindref="member">isBadass</ref><sp/>=<sp/>protoCrewMember.isBadass;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1ad4ea4ae72df88d62713bb6db83092532" kindref="member">courage</ref><sp/>=<sp/>protoCrewMember.courage;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a9b468d2e6ffa6fac1bed4afa267292f1" kindref="member">stupidity</ref><sp/>=<sp/>protoCrewMember.stupidity;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a0f6b750124cd7c5892693edc7ce8574e" kindref="member">helmetInitRot</ref><sp/>=<sp/>neckJoint.transform.localRotation;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>StartCoroutine(<ref refid="class_kerbal_expression_a_i_1a16bd50eee8b8a052df20b773f2387434" kindref="member">kerbalAvatarUpdateCycle</ref>());</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1adacc425569380d9a0bdbb9bec9166a38" kindref="member">FixedUpdate</ref>()</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>feed<sp/>flight<sp/>data<sp/>to<sp/>each<sp/>Kerbal,<sp/>so<sp/>they<sp/>can<sp/>react<sp/>to<sp/>it.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a36885e47103da1e8be41cd02ec63cb92" kindref="member">flight_angularV</ref><sp/>=<sp/>Mathf.Clamp((float)<ref refid="class_flight_globals" kindref="compound">FlightGlobals</ref>.<ref refid="class_flight_globals_1a12d9c2d1e7e1f9f640ef39a178034d05" kindref="member">ship_angularVelocity</ref>.<ref refid="struct_vector3d_1a69a951470018e7a9aa878644b0649cbd" kindref="member">magnitude</ref>,<sp/>0f,<sp/>100f);</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a3aeee5bdf4271e46c52f84bb7665ffa3" kindref="member">flight_velocity</ref><sp/>=<sp/>(float)<ref refid="class_flight_globals" kindref="compound">FlightGlobals</ref>.<ref refid="class_flight_globals_1a518c22f00fa7048287e6d4e201a906ae" kindref="member">ship_velocity</ref>.<ref refid="struct_vector3d_1a69a951470018e7a9aa878644b0649cbd" kindref="member">magnitude</ref>;<sp/></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a3b78a52f20c3e36541abb333df4c425c" kindref="member">flight_gee</ref><sp/>=<sp/><ref refid="class_flight_globals" kindref="compound">FlightGlobals</ref>.<ref refid="class_flight_globals_1abe70d04e6d3f4a6a82a2ccbd5c996f71" kindref="member">ship_verticalSpeed</ref><sp/>&lt;<sp/>0<sp/>?<sp/>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">)FlightGlobals.ship_geeForce<sp/>:<sp/>1f;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>IEnumerator<sp/><ref refid="class_kerbal_expression_a_i_1a16bd50eee8b8a052df20b773f2387434" kindref="member">kerbalAvatarUpdateCycle</ref>()</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<ref refid="class_kerbal_expression_a_i_1afc379ee04791113a735c59987524025e" kindref="member">running</ref>)</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1acd0b12e0d2e4ddb152ac366d311da02f" kindref="member">UpdateExpressionAI</ref>();</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a5c8b1e82035b159b7d1f3a8cbc560d1e" kindref="member">UpdateHeadMesh</ref>();</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//UpdateHeadTransforms();<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yield<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>WaitForSeconds(<ref refid="class_kerbal_expression_a_i_1ae5a008bc69d397363d40d23e3886dc45" kindref="member">updateInterval</ref>);</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a2e5314a151fbacd0f484392f77f98531" kindref="member">Update</ref>()</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//UpdateExpressionAI();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//UpdateHeadMesh();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a51a09d96fa24e7ead95064d41ee01699" kindref="member">UpdateHeadTransforms</ref>();<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1acd0b12e0d2e4ddb152ac366d311da02f" kindref="member">UpdateExpressionAI</ref>()</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Kerbal<sp/>Fuzzy<sp/>AI<sp/>::</highlight></codeline>
<codeline lineno="120"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>calculate<sp/>wheee<sp/>and<sp/>panic<sp/>levels<sp/>based<sp/>on<sp/>flight<sp/>conditions<sp/>and<sp/>fear<sp/>factor</highlight></codeline>
<codeline lineno="121"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/></highlight></codeline>
<codeline lineno="122"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>Rules:</highlight></codeline>
<codeline lineno="123"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>1.<sp/>all<sp/>kerbals<sp/>like<sp/>feeling<sp/>weightless</highlight></codeline>
<codeline lineno="124"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>2.<sp/>badass<sp/>kerbals<sp/>enjoy<sp/>high<sp/>speeds,<sp/>while<sp/>their<sp/>passengers<sp/>don&apos;t.</highlight></codeline>
<codeline lineno="125"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>3.<sp/>badass<sp/>kerbals<sp/>don&apos;t<sp/>mind<sp/>spinning<sp/>around<sp/>as<sp/>much<sp/>as<sp/>meek<sp/>ones<sp/>do.</highlight></codeline>
<codeline lineno="126"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>4.<sp/>stupid<sp/>kerbals<sp/>find<sp/>spinning<sp/>around<sp/>entertaining<sp/>(to<sp/>a<sp/>certain<sp/>point)</highlight></codeline>
<codeline lineno="127"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>5.<sp/>all<sp/>kerbals<sp/>panic<sp/>when<sp/>spinning<sp/>way<sp/>too<sp/>fast</highlight></codeline>
<codeline lineno="128"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>6.<sp/>fear<sp/>will<sp/>make<sp/>all<sp/>kerbals<sp/>panic<sp/>(stupid<sp/>ones,<sp/>a<sp/>little<sp/>less)</highlight></codeline>
<codeline lineno="129"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>7.<sp/>brave<sp/>kerbals<sp/>regain<sp/>their<sp/>nerve<sp/>faster<sp/>than<sp/>yellow<sp/>ones</highlight></codeline>
<codeline lineno="130"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>8.<sp/>stupid<sp/>kerbals<sp/>are<sp/>more<sp/>easily<sp/>excited<sp/>than<sp/>less<sp/>stupid<sp/>ones</highlight></codeline>
<codeline lineno="131"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/></highlight></codeline>
<codeline lineno="132"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>end<sp/>effect<sp/>is<sp/>a<sp/>balance<sp/>between<sp/>wheee<sp/>and<sp/>panic,<sp/>with<sp/>neutral<sp/>(idle)<sp/>in<sp/>the<sp/>middle.</highlight></codeline>
<codeline lineno="133"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a9362c2958836bb1ebfafa524f949b85f" kindref="member">wheeeLevel</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a9362c2958836bb1ebfafa524f949b85f" kindref="member">wheeeLevel</ref><sp/>+=<sp/>(1f<sp/>-<sp/>Mathf.Clamp01(Mathf.Abs(<ref refid="class_kerbal_expression_a_i_1a3b78a52f20c3e36541abb333df4c425c" kindref="member">flight_gee</ref>)))<sp/>*<sp/>0.6f;<sp/></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a9362c2958836bb1ebfafa524f949b85f" kindref="member">wheeeLevel</ref><sp/>+=<sp/><ref refid="class_kerbal_expression_a_i_1a938b4987c82ef1df75bf09eca5b3d908" kindref="member">isBadass</ref><sp/>?<sp/><ref refid="class_kerbal_expression_a_i_1a3aeee5bdf4271e46c52f84bb7665ffa3" kindref="member">flight_velocity</ref><sp/>/<sp/>100f<sp/>:<sp/>0f;<sp/></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a9362c2958836bb1ebfafa524f949b85f" kindref="member">wheeeLevel</ref><sp/>+=<sp/>Mathf.Clamp01(<ref refid="class_kerbal_expression_a_i_1a36885e47103da1e8be41cd02ec63cb92" kindref="member">flight_angularV</ref><sp/>/<sp/>40f)<sp/>*<sp/><ref refid="class_kerbal_expression_a_i_1a9b468d2e6ffa6fac1bed4afa267292f1" kindref="member">stupidity</ref>;<sp/></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a9362c2958836bb1ebfafa524f949b85f" kindref="member">wheeeLevel</ref><sp/>-=<sp/><ref refid="class_kerbal_expression_a_i_1a35d22bc2f8276e311eec5e8ed7aceb8e" kindref="member">fearFactor</ref>;<sp/></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wheeeLevel<sp/>*=<sp/>1<sp/>+<sp/><ref refid="class_kerbal_expression_a_i_1a9b468d2e6ffa6fac1bed4afa267292f1" kindref="member">stupidity</ref><sp/>*<sp/>2f;<sp/></highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1aac77ab28b9dc5a106f38f0870c39c79a" kindref="member">panicLevel</ref><sp/>=<sp/><ref refid="class_kerbal_expression_a_i_1a938b4987c82ef1df75bf09eca5b3d908" kindref="member">isBadass</ref><sp/>?<sp/>0f<sp/>:<sp/>(<ref refid="class_kerbal_expression_a_i_1a3aeee5bdf4271e46c52f84bb7665ffa3" kindref="member">flight_velocity</ref><sp/>/<sp/>100f)<sp/>*<sp/>(1f<sp/>-<sp/><ref refid="class_kerbal_expression_a_i_1a9b468d2e6ffa6fac1bed4afa267292f1" kindref="member">stupidity</ref>);<sp/></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1aac77ab28b9dc5a106f38f0870c39c79a" kindref="member">panicLevel</ref><sp/>+=<sp/><ref refid="class_kerbal_expression_a_i_1a938b4987c82ef1df75bf09eca5b3d908" kindref="member">isBadass</ref><sp/>?<sp/><ref refid="class_kerbal_expression_a_i_1a36885e47103da1e8be41cd02ec63cb92" kindref="member">flight_angularV</ref><sp/>/<sp/>100f<sp/>:<sp/><ref refid="class_kerbal_expression_a_i_1a36885e47103da1e8be41cd02ec63cb92" kindref="member">flight_angularV</ref><sp/>/<sp/>50f;<sp/></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1aac77ab28b9dc5a106f38f0870c39c79a" kindref="member">panicLevel</ref><sp/>+=<sp/><ref refid="class_kerbal_expression_a_i_1a35d22bc2f8276e311eec5e8ed7aceb8e" kindref="member">fearFactor</ref><sp/>/<sp/>(1<sp/>+<sp/><ref refid="class_kerbal_expression_a_i_1a9b468d2e6ffa6fac1bed4afa267292f1" kindref="member">stupidity</ref>);<sp/></highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a35d22bc2f8276e311eec5e8ed7aceb8e" kindref="member">fearFactor</ref><sp/>=<sp/><ref refid="class_kerbal_expression_a_i_1aac77ab28b9dc5a106f38f0870c39c79a" kindref="member">panicLevel</ref><sp/>&lt;<sp/>0.3f<sp/>?<sp/><ref refid="class_kerbal_expression_a_i_1a35d22bc2f8276e311eec5e8ed7aceb8e" kindref="member">fearFactor</ref><sp/>*<sp/>(1f<sp/>-<sp/><ref refid="class_kerbal_expression_a_i_1ad4ea4ae72df88d62713bb6db83092532" kindref="member">courage</ref><sp/>*<sp/>0.5f)<sp/>:<sp/><ref refid="class_kerbal_expression_a_i_1a35d22bc2f8276e311eec5e8ed7aceb8e" kindref="member">fearFactor</ref><sp/>*<sp/>(1f<sp/>-<sp/><ref refid="class_kerbal_expression_a_i_1ad4ea4ae72df88d62713bb6db83092532" kindref="member">courage</ref><sp/>*<sp/>0.2f);<sp/></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>sanity<sp/>check!<sp/>these<sp/>values<sp/>cannot<sp/>go<sp/>past<sp/>0<sp/>and<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wheeeLevel<sp/>=<sp/>Mathf.Clamp01(<ref refid="class_kerbal_expression_a_i_1a9362c2958836bb1ebfafa524f949b85f" kindref="member">wheeeLevel</ref>);</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1aac77ab28b9dc5a106f38f0870c39c79a" kindref="member">panicLevel</ref><sp/>=<sp/>Mathf.Clamp01(<ref refid="class_kerbal_expression_a_i_1aac77ab28b9dc5a106f38f0870c39c79a" kindref="member">panicLevel</ref>);<sp/></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1a3b3282619baeac6c1539cd6d146929ca" kindref="member">expression</ref><sp/>=<sp/>(wheeeLevel<sp/>*<sp/>0.5f<sp/>-<sp/>panicLevel<sp/>*<sp/>0.5f)<sp/>*<sp/>2f;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a5c8b1e82035b159b7d1f3a8cbc560d1e" kindref="member">UpdateHeadMesh</ref>()</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_kerbal_expression_a_i_1a4d7c080e00bbb79a63e8ed4728924ac8" kindref="member">headMesh</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;<sp/></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Mathf.Abs(<ref refid="class_kerbal_expression_a_i_1a3b3282619baeac6c1539cd6d146929ca" kindref="member">expression</ref>)<sp/>&gt;<sp/><ref refid="class_kerbal_expression_a_i_1a87330df7d1fae560cb3ca3324ecd7cff" kindref="member">idleThreshold</ref>)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1ad5f2cae4b200ffe7433f4632bb8c6b09" kindref="member">currentMesh</ref><sp/>=<sp/><ref refid="class_kerbal_expression_a_i_1a3b3282619baeac6c1539cd6d146929ca" kindref="member">expression</ref><sp/>&gt;<sp/>0f<sp/>?<sp/><ref refid="class_kerbal_expression_a_i_1a58066dd26ef2bac9426d1e16df0e9e2c" kindref="member">wheeeMeshes</ref>[Mathf.RoundToInt(Mathf.Abs(<ref refid="class_kerbal_expression_a_i_1a3b3282619baeac6c1539cd6d146929ca" kindref="member">expression</ref>)<sp/>*<sp/>(<ref refid="class_kerbal_expression_a_i_1a58066dd26ef2bac9426d1e16df0e9e2c" kindref="member">wheeeMeshes</ref>.Length<sp/>-<sp/>1))]<sp/>:</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1abc6b214141601dc3f9355970a8adc858" kindref="member">panicMeshes</ref>[Mathf.RoundToInt(Mathf.Abs(<ref refid="class_kerbal_expression_a_i_1a3b3282619baeac6c1539cd6d146929ca" kindref="member">expression</ref>)<sp/>*<sp/>(panicMeshes.Length<sp/>-<sp/>1))];</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_kerbal_expression_a_i_1ad5f2cae4b200ffe7433f4632bb8c6b09" kindref="member">currentMesh</ref><sp/>=<sp/><ref refid="class_kerbal_expression_a_i_1ab758f46e2b7e7b67d9f6fe46bb6c6fe7" kindref="member">idleMesh</ref>;</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>headMesh.mesh<sp/>=<sp/><ref refid="class_kerbal_expression_a_i_1ad5f2cae4b200ffe7433f4632bb8c6b09" kindref="member">currentMesh</ref>;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_kerbal_expression_a_i_1a51a09d96fa24e7ead95064d41ee01699" kindref="member">UpdateHeadTransforms</ref>()</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_kerbal_expression_a_i_1af26cf5df6892834fb25d74dd3d411872" kindref="member">headRef</ref><sp/>&amp;&amp;<sp/>!neckJoint)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;<sp/></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>scalar<sp/>=<sp/>Mathf.Max(Mathf.Max(<ref refid="class_kerbal_expression_a_i_1aac77ab28b9dc5a106f38f0870c39c79a" kindref="member">panicLevel</ref>,<sp/><ref refid="class_kerbal_expression_a_i_1a9362c2958836bb1ebfafa524f949b85f" kindref="member">wheeeLevel</ref>),<sp/>0.1f);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scalar<sp/>*=<sp/>scalar<sp/>==<sp/><ref refid="class_kerbal_expression_a_i_1a9362c2958836bb1ebfafa524f949b85f" kindref="member">wheeeLevel</ref><sp/>?<sp/>0.5f<sp/>:<sp/>1f;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>noise1<sp/>=<sp/>Mathf.PerlinNoise(Time.time,<sp/><ref refid="class_kerbal_expression_a_i_1a806aa43742372ac51192f70df4d5cc91" kindref="member">noiseSeed</ref>)<sp/>-<sp/>0.5f;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>noise2<sp/>=<sp/>Mathf.PerlinNoise(Time.time,<sp/><ref refid="class_kerbal_expression_a_i_1a806aa43742372ac51192f70df4d5cc91" kindref="member">noiseSeed</ref><sp/>+<sp/>1f)<sp/>-<sp/>0.5f;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>noise3<sp/>=<sp/>Mathf.PerlinNoise(Time.time,<sp/><ref refid="class_kerbal_expression_a_i_1a806aa43742372ac51192f70df4d5cc91" kindref="member">noiseSeed</ref><sp/>+<sp/>2f)<sp/>-<sp/>0.5f;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_kerbal_expression_a_i_1af26cf5df6892834fb25d74dd3d411872" kindref="member">headRef</ref>)</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>move<sp/>the<sp/>head</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>headPitch<sp/>=<sp/>noise1<sp/>*<sp/><ref refid="class_kerbal_expression_a_i_1a5ca225b622e9714f19c67e824ca63ef9" kindref="member">headBobAmount</ref><sp/>*<sp/>scalar;</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>headYaw<sp/>=<sp/>noise2<sp/>*<sp/><ref refid="class_kerbal_expression_a_i_1a5ca225b622e9714f19c67e824ca63ef9" kindref="member">headBobAmount</ref><sp/>*<sp/>2f<sp/>*<sp/>scalar;</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>headRoll<sp/>=<sp/>noise3<sp/>*<sp/><ref refid="class_kerbal_expression_a_i_1a5ca225b622e9714f19c67e824ca63ef9" kindref="member">headBobAmount</ref><sp/>*<sp/>0.1f<sp/>*<sp/>scalar;</highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>headRef.transform.localRotation<sp/>=<sp/>Quaternion.Euler(headPitch,<sp/>headRoll<sp/>*<sp/>0.1f,<sp/>headYaw<sp/>*<sp/>2f);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(neckJoint)</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>move<sp/>the<sp/>helmet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>helmetPitch<sp/>=<sp/>noise1<sp/>*<sp/><ref refid="class_kerbal_expression_a_i_1a5ca225b622e9714f19c67e824ca63ef9" kindref="member">headBobAmount</ref><sp/>*<sp/>0.5f<sp/>*<sp/>scalar;</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>helmetYaw<sp/>=<sp/>noise2<sp/>*<sp/><ref refid="class_kerbal_expression_a_i_1a5ca225b622e9714f19c67e824ca63ef9" kindref="member">headBobAmount</ref><sp/>*<sp/>0.3f<sp/>*<sp/>scalar;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>helmetRoll<sp/>=<sp/>noise3<sp/>*<sp/><ref refid="class_kerbal_expression_a_i_1a5ca225b622e9714f19c67e824ca63ef9" kindref="member">headBobAmount</ref><sp/>*<sp/>0.2f<sp/>*<sp/>scalar;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>neckJoint.transform.localRotation<sp/>=<sp/><ref refid="class_kerbal_expression_a_i_1a0f6b750124cd7c5892693edc7ce8574e" kindref="member">helmetInitRot</ref><sp/>*<sp/>Quaternion.Euler(helmetPitch,<sp/>helmetRoll,<sp/>helmetYaw);</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal">}</highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="D:/Workspace/KSP1/KSP/KSP/Assets/Kerbals/Scripts/KerbalExpressionAI.cs"/>
  </compounddef>
</doxygen>
