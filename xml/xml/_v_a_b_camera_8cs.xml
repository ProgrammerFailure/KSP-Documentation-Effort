<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.7">
  <compounddef id="_v_a_b_camera_8cs" kind="file">
    <compoundname>VABCamera.cs</compoundname>
    <innerclass refid="class_v_a_b_camera" prot="public">VABCamera</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="keyword">using</highlight><highlight class="normal"><sp/>UnityEngine;</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>System.Collections;</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>KSP.UI.Screens;</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5" refid="class_v_a_b_camera" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_v_a_b_camera" kindref="compound">VABCamera</ref><sp/>:<sp/>MonoBehaviour,<sp/><ref refid="interface_i_k_s_p_camera" kindref="compound">IKSPCamera</ref></highlight></codeline>
<codeline lineno="6"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1afa94b35e048ce63fe2514ae705fcdab4" kindref="member">minHeight</ref><sp/>=<sp/>2f;</highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1aef5b67403f81748e8a393cfaa423f82a" kindref="member">maxHeight</ref><sp/>=<sp/>50f;</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1ae99a010781be53ae29a47f9daa5fb384" kindref="member">minPitch</ref><sp/>=<sp/>-30f;</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1a3d3faa101f1d120d2aa2bb6973491d98" kindref="member">maxPitch</ref><sp/>=<sp/>60f;</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1ad5d369744bdfddca0e390d246b572e91" kindref="member">startDistance</ref><sp/>=<sp/>30f;</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1a48b66fbfdecc258d02b67286615db3a9" kindref="member">maxDistance</ref><sp/>=<sp/>35f;</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1afc2f52006adb1541f3fa095c001c645e" kindref="member">minDistance</ref><sp/>=<sp/>3f;</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1a6a9a586633e11e936d3d5b74703a3318" kindref="member">Distance</ref><sp/>{<sp/></highlight><highlight class="keyword">get</highlight><highlight class="normal"><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>distance;<sp/>}<sp/>}</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>distance;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>GameObject<sp/>pivot;</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Quaternion<sp/><ref refid="class_v_a_b_camera_1a6bf4bb9728b0e0849bee0e6e95b089ba" kindref="member">pivotRotation</ref><sp/>{<sp/></highlight><highlight class="keyword">get</highlight><highlight class="normal"><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pivot.transform.rotation;<sp/>}<sp/>}</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>Vector3<sp/>endPos;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>Vector3<sp/>offset;</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>Quaternion<sp/>endRot;</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1aff1c61534630213606c8c3e55fe72c7c" kindref="member">orbitSensitivity</ref><sp/>=<sp/>0.05f;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1ae672e95af0a7c143b87108bdf9b6f42f" kindref="member">mouseZoomSensitivity</ref><sp/>=<sp/>0.1f;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1a615c827d4d477d4265595db993773b74" kindref="member">offsetSensitivity</ref><sp/>=<sp/>0.1f;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1ace04f8733a344d858cc1858aa7a73eb4" kindref="member">sharpness</ref><sp/>=<sp/>0.2f;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Values<sp/>to<sp/>use<sp/>as<sp/>default<sp/>camera<sp/>pos/angle</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1afc126b66e871d71b08ba39bae935e528" kindref="member">initialHeight</ref><sp/>=<sp/>9f;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1ac1534f03dffad0adab8c3ba0c3622d1c" kindref="member">initialPitch</ref><sp/>=<sp/>0.2859999f;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1a625bd19a86b6293b6510264b9c907fe1" kindref="member">initialHeading</ref><sp/>=<sp/>1.265998f;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1a3d12bed20eaf9c3eb6a6cced55be8aab" kindref="member">scrollHeight</ref><sp/>=<sp/>5f;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>clampedScrollHeight;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1a5c98164be7c3283a9d3367604a75cb8b" kindref="member">camPitch</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1af1c35884e275b9b05c65590ef3a00d5c" kindref="member">camHdg</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1aefb52ab4d0382c31aa1a1074a4d25c2d" kindref="member">camInitialMinDistance</ref><sp/>=<sp/>5.0f;<sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>min<sp/>distance<sp/>the<sp/>camera<sp/>will<sp/>be<sp/>from<sp/>the<sp/>center<sp/>of<sp/>the<sp/>ship<sp/>when<sp/>the<sp/>scene<sp/>starts<sp/>with<sp/>a<sp/>ship<sp/>loaded</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Cubemap<sp/><ref refid="class_v_a_b_camera_1ac21f440302c9843c648ed6d408713913" kindref="member">VABReflection</ref>;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>IEnumerator<sp/>Start()</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pivot<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>GameObject();</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pivot.name<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;VAB<sp/>camera<sp/>pivot&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform.parent<sp/>=<sp/>pivot.transform;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pivot.transform.localRotation<sp/>=<sp/>Quaternion.identity;</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distance<sp/>=<sp/><ref refid="class_v_a_b_camera_1ad5d369744bdfddca0e390d246b572e91" kindref="member">startDistance</ref>;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1aff1c61534630213606c8c3e55fe72c7c" kindref="member">orbitSensitivity</ref><sp/>=<sp/><ref refid="class_game_settings_1ab4f54884a401e5353e25a86cdce1b59f" kindref="member">GameSettings.VAB_CAMERA_ORBIT_SENS</ref>;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1ae672e95af0a7c143b87108bdf9b6f42f" kindref="member">mouseZoomSensitivity</ref><sp/>=<sp/><ref refid="class_game_settings_1af67096fd8f4c10827023cd2f63560b16" kindref="member">GameSettings.VAB_CAMERA_ZOOM_SENS</ref>;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1ace530c4977789f9fcea7d557d15e06fa" kindref="member">ResetCamera</ref>();</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>UpdateCamera(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yield<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>null;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SetInitialCameraPosition();</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1afc126b66e871d71b08ba39bae935e528" kindref="member">initialHeight</ref><sp/>=<sp/><ref refid="class_v_a_b_camera_1a3d12bed20eaf9c3eb6a6cced55be8aab" kindref="member">scrollHeight</ref>;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GameEvents.onEditorRestart.Add(OnEditorRestart);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GameEvents.onEditorLoad.Add(OnEditorShipLoad);<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Add<sp/>event<sp/>so<sp/>we<sp/>can<sp/>hook<sp/>up<sp/>camera<sp/>starting<sp/>pos</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>OnEnable()</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pivot<sp/>!=<sp/>null)</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform.parent<sp/>=<sp/>pivot.transform;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>OnDestroy()</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GameEvents.onEditorRestart.Remove(OnEditorRestart);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GameEvents.onEditorLoad.Remove(OnEditorShipLoad);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>OnEditorRestart()</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1a5c98164be7c3283a9d3367604a75cb8b" kindref="member">camPitch</ref><sp/>=<sp/><ref refid="class_v_a_b_camera_1ac1534f03dffad0adab8c3ba0c3622d1c" kindref="member">initialPitch</ref>;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1af1c35884e275b9b05c65590ef3a00d5c" kindref="member">camHdg</ref><sp/>=<sp/><ref refid="class_v_a_b_camera_1a625bd19a86b6293b6510264b9c907fe1" kindref="member">initialHeading</ref>;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1a3d12bed20eaf9c3eb6a6cced55be8aab" kindref="member">scrollHeight</ref><sp/>=<sp/><ref refid="class_v_a_b_camera_1afc126b66e871d71b08ba39bae935e528" kindref="member">initialHeight</ref>;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>OnEditorShipLoad(<ref refid="class_ship_construct" kindref="compound">ShipConstruct</ref><sp/>ct,<sp/><ref refid="class_k_s_p_1_1_u_i_1_1_screens_1_1_craft_browser_dialog" kindref="compound">CraftBrowserDialog</ref>.<ref refid="class_k_s_p_1_1_u_i_1_1_screens_1_1_craft_browser_dialog_1a7a7c17ef73ba49322a93399d106bb917" kindref="member">LoadType</ref><sp/>loadType)</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SetInitialCameraPosition();</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>SetInitialCameraPosition()</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_editor_logic" kindref="compound">EditorLogic</ref>.<ref refid="class_editor_logic_1a21885533a47e9fad5401b48a21d380cc" kindref="member">fetch</ref>.<ref refid="class_editor_logic_1a0f8fd6c8d6feaca92c94a19e37a75433" kindref="member">ship</ref>.<ref refid="class_ship_construct_1abd2aead755fbe73550600c87b402caba" kindref="member">Parts</ref>.Count<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector3<sp/>shipCentroid<sp/>=<sp/>ShipConstruction.FindCraftCenter(EditorLogic.fetch.ship,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector3<sp/>shipSize<sp/>=<sp/>ShipConstruction.CalculateCraftSize(EditorLogic.fetch.ship);</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>camDistance<sp/>=<sp/>Mathf.Max(KSPCameraUtil.GetDistanceToFit(shipSize,<sp/>GetComponent&lt;Camera&gt;().fieldOfView<sp/>*<sp/>0.4f),<sp/><ref refid="class_v_a_b_camera_1aefb52ab4d0382c31aa1a1074a4d25c2d" kindref="member">camInitialMinDistance</ref>);</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1a052beee1d2192a7ae3716a2036f7b7cf" kindref="member">PlaceCamera</ref>(Vector3.up<sp/>*<sp/>shipCentroid.y,<sp/>camDistance);</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_high_logic" kindref="compound">HighLogic</ref>.<ref refid="class_high_logic_1a440beeca63ded21bdf93d858acfe627b" kindref="member">CurrentGame</ref>.<ref refid="class_game_1a7fef74ee8b054148b662a0a357fd059b" kindref="member">Mode</ref><sp/>==<sp/><ref refid="class_game" kindref="compound">Game</ref>.<ref refid="class_game_1aeeac25e33cd082571ad5045bd04a5165" kindref="member">Modes</ref>.SCENARIO_NON_RESUMABLE)<sp/><ref refid="class_v_a_b_camera_1a052beee1d2192a7ae3716a2036f7b7cf" kindref="member">PlaceCamera</ref>(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector3(0f,<sp/>15f,<sp/>0f),<sp/><ref refid="class_v_a_b_camera_1ad5d369744bdfddca0e390d246b572e91" kindref="member">startDistance</ref>);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1a052beee1d2192a7ae3716a2036f7b7cf" kindref="member">PlaceCamera</ref>(<ref refid="class_editor_bounds" kindref="compound">EditorBounds</ref>.<ref refid="class_editor_bounds_1a524aef921c0361594fa6db263b49f957" kindref="member">Instance</ref>.<ref refid="class_editor_bounds_1adf7d0c13cc83b336f2e9ae67592d9022" kindref="member">rootPartSpawnPoint</ref>,<sp/><ref refid="class_v_a_b_camera_1ad5d369744bdfddca0e390d246b572e91" kindref="member">startDistance</ref>);</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1a052beee1d2192a7ae3716a2036f7b7cf" kindref="member">PlaceCamera</ref>(Vector3<sp/>focusPoint,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dist)</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1a3d12bed20eaf9c3eb6a6cced55be8aab" kindref="member">scrollHeight</ref><sp/>=<sp/>focusPoint.y;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distance<sp/>=<sp/>dist;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Update()</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_input_lock_manager" kindref="compound">InputLockManager</ref>.<ref refid="class_input_lock_manager_1a9b737b5d9d379466892b7d4b19418ccc" kindref="member">IsUnlocked</ref>(<ref refid="_input_lock_manager_8cs_1a0119b266bd804d818bf01e957f37217a" kindref="member">ControlTypes</ref>.CAMERACONTROLS)<sp/>&amp;&amp;<sp/>!UnityEngine.EventSystems.EventSystem.current.IsPointerOverGameObject())</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_game_settings" kindref="compound">GameSettings</ref>.<ref refid="class_game_settings_1a1f43743ca82eba803440f740d59dcbaa" kindref="member">AXIS_MOUSEWHEEL</ref>.<ref refid="class_axis_binding_1a1a6bb0d70ce5838d38df131747a69b0d" kindref="member">GetAxis</ref>()<sp/>!=<sp/>0f)</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Zoom<sp/>::<sp/>Shift<sp/>+<sp/>Scroll<sp/>Wheel</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_game_settings" kindref="compound">GameSettings</ref>.<ref refid="class_game_settings_1a5e5322253ffeb42065f2ce295fc56ece" kindref="member">Editor_zoomScrollModifier</ref>.<ref refid="class_key_binding_1a264348f47577683f8edd1203a7660ec2" kindref="member">GetKey</ref>())</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distance<sp/>=<sp/>Mathf.Clamp(distance<sp/>-<sp/>GameSettings.AXIS_MOUSEWHEEL.GetAxis()<sp/>*<sp/>5f,<sp/><ref refid="class_v_a_b_camera_1afc2f52006adb1541f3fa095c001c645e" kindref="member">minDistance</ref>,<sp/><ref refid="class_v_a_b_camera_1a48b66fbfdecc258d02b67286615db3a9" kindref="member">maxDistance</ref>);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>Scroll<sp/>Up/Down<sp/>::<sp/>Scroll<sp/>Wheel</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1a3d12bed20eaf9c3eb6a6cced55be8aab" kindref="member">scrollHeight</ref><sp/>=<sp/>Mathf.Clamp(clampedScrollHeight<sp/>+<sp/>GameSettings.AXIS_MOUSEWHEEL.GetAxis()<sp/>*<sp/>5f,<sp/><ref refid="class_v_a_b_camera_1afa94b35e048ce63fe2514ae705fcdab4" kindref="member">minHeight</ref>,<sp/><ref refid="class_v_a_b_camera_1aef5b67403f81748e8a393cfaa423f82a" kindref="member">maxHeight</ref>);</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Scroll<sp/>Up/Down<sp/>::<sp/>Page<sp/>up<sp/>and<sp/>Page<sp/>down</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_game_settings" kindref="compound">GameSettings</ref>.<ref refid="class_game_settings_1a037126d4ed204d45865fcc6d75b7429a" kindref="member">SCROLL_VIEW_UP</ref>.<ref refid="class_key_binding_1a264348f47577683f8edd1203a7660ec2" kindref="member">GetKey</ref>())</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1a3d12bed20eaf9c3eb6a6cced55be8aab" kindref="member">scrollHeight</ref><sp/>=<sp/>Mathf.Clamp(clampedScrollHeight<sp/>+<sp/>0.1f,<sp/><ref refid="class_v_a_b_camera_1afa94b35e048ce63fe2514ae705fcdab4" kindref="member">minHeight</ref>,<sp/><ref refid="class_v_a_b_camera_1aef5b67403f81748e8a393cfaa423f82a" kindref="member">maxHeight</ref>);</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_game_settings" kindref="compound">GameSettings</ref>.<ref refid="class_game_settings_1a9ac6886d61a64a666574c7bc595cf5a1" kindref="member">SCROLL_VIEW_DOWN</ref>.<ref refid="class_key_binding_1a264348f47577683f8edd1203a7660ec2" kindref="member">GetKey</ref>())</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1a3d12bed20eaf9c3eb6a6cced55be8aab" kindref="member">scrollHeight</ref><sp/>=<sp/>Mathf.Clamp(clampedScrollHeight<sp/>-<sp/>0.1f,<sp/><ref refid="class_v_a_b_camera_1afa94b35e048ce63fe2514ae705fcdab4" kindref="member">minHeight</ref>,<sp/><ref refid="class_v_a_b_camera_1aef5b67403f81748e8a393cfaa423f82a" kindref="member">maxHeight</ref>);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Zoom<sp/>::<sp/>Middle<sp/>Mouse<sp/>Button<sp/>+<sp/>Drag<sp/>Y</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Input.GetMouseButton(2))</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distance<sp/>=<sp/>Mathf.Clamp(distance<sp/>-<sp/>Input.GetAxis(</highlight><highlight class="stringliteral">&quot;Mouse<sp/>Y&quot;</highlight><highlight class="normal">)<sp/>*<sp/><ref refid="class_v_a_b_camera_1ae672e95af0a7c143b87108bdf9b6f42f" kindref="member">mouseZoomSensitivity</ref>,<sp/><ref refid="class_v_a_b_camera_1afc2f52006adb1541f3fa095c001c645e" kindref="member">minDistance</ref>,<sp/><ref refid="class_v_a_b_camera_1a48b66fbfdecc258d02b67286615db3a9" kindref="member">maxDistance</ref>);<sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Zoom<sp/>::<sp/>+<sp/>and<sp/>-<sp/>keys</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_game_settings" kindref="compound">GameSettings</ref>.<ref refid="class_game_settings_1ad384092115a17473330d3bfe2c26e0ff" kindref="member">ZOOM_IN</ref>.<ref refid="class_key_binding_1a264348f47577683f8edd1203a7660ec2" kindref="member">GetKey</ref>())</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distance<sp/>=<sp/>Mathf.Clamp(distance<sp/>-<sp/><ref refid="class_v_a_b_camera_1ae672e95af0a7c143b87108bdf9b6f42f" kindref="member">mouseZoomSensitivity</ref>,<sp/><ref refid="class_v_a_b_camera_1afc2f52006adb1541f3fa095c001c645e" kindref="member">minDistance</ref>,<sp/><ref refid="class_v_a_b_camera_1a48b66fbfdecc258d02b67286615db3a9" kindref="member">maxDistance</ref>);</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_game_settings" kindref="compound">GameSettings</ref>.<ref refid="class_game_settings_1ace234aeb1114e45a0b121211a1cc483e" kindref="member">ZOOM_OUT</ref>.<ref refid="class_key_binding_1a264348f47577683f8edd1203a7660ec2" kindref="member">GetKey</ref>())</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distance<sp/>=<sp/>Mathf.Clamp(distance<sp/>+<sp/><ref refid="class_v_a_b_camera_1ae672e95af0a7c143b87108bdf9b6f42f" kindref="member">mouseZoomSensitivity</ref>,<sp/><ref refid="class_v_a_b_camera_1afc2f52006adb1541f3fa095c001c645e" kindref="member">minDistance</ref>,<sp/><ref refid="class_v_a_b_camera_1a48b66fbfdecc258d02b67286615db3a9" kindref="member">maxDistance</ref>);</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>RMB<sp/>::<sp/>Orbit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_camera_mouse_look" kindref="compound">CameraMouseLook</ref>.<ref refid="class_camera_mouse_look_1afd576b3fcb7db63467e9b22ea839cdda" kindref="member">GetMouseLook</ref>())</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1af1c35884e275b9b05c65590ef3a00d5c" kindref="member">camHdg</ref><sp/>+=<sp/>Input.GetAxis(</highlight><highlight class="stringliteral">&quot;Mouse<sp/>X&quot;</highlight><highlight class="normal">)<sp/>*<sp/><ref refid="class_v_a_b_camera_1aff1c61534630213606c8c3e55fe72c7c" kindref="member">orbitSensitivity</ref>;<sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1a5c98164be7c3283a9d3367604a75cb8b" kindref="member">camPitch</ref><sp/>=<sp/>camPitch<sp/>-<sp/>Input.GetAxis(</highlight><highlight class="stringliteral">&quot;Mouse<sp/>Y&quot;</highlight><highlight class="normal">)<sp/>*<sp/><ref refid="class_v_a_b_camera_1aff1c61534630213606c8c3e55fe72c7c" kindref="member">orbitSensitivity</ref>;<sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(Input.GetMouseButton(2)<sp/>||<sp/>(Input.GetMouseButton(1)<sp/>&amp;&amp;<sp/>Input.GetKey(KeyCode.LeftShift)))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>offset<sp/>=<sp/>new<sp/>Vector3(Input.GetAxis(&quot;Mouse<sp/>X&quot;),<sp/>0f,<sp/>Input.GetAxis(&quot;Mouse<sp/>Y&quot;))<sp/>*<sp/>offsetSensitivity;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>offset<sp/>=<sp/>Vector3.zero;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(offset<sp/>!=<sp/>Vector3.zero)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>offset<sp/>=<sp/>Quaternion.AngleAxis(camHdg<sp/>*<sp/>Mathf.Rad2Deg,<sp/>Vector3.up)<sp/>*<sp/>offset;<sp/>///&lt;<sp/><sp/><sp/><sp/>offsetPos<sp/>+=<sp/>offset;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Joystick<sp/>axis<sp/>Orbit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1af1c35884e275b9b05c65590ef3a00d5c" kindref="member">camHdg</ref><sp/>=<sp/><ref refid="class_v_a_b_camera_1af1c35884e275b9b05c65590ef3a00d5c" kindref="member">camHdg</ref><sp/>-<sp/>GameSettings.AXIS_CAMERA_HDG.GetAxis()<sp/>*<sp/><ref refid="class_v_a_b_camera_1aff1c61534630213606c8c3e55fe72c7c" kindref="member">orbitSensitivity</ref>;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1a5c98164be7c3283a9d3367604a75cb8b" kindref="member">camPitch</ref><sp/>=<sp/>camPitch<sp/>-<sp/>GameSettings.AXIS_CAMERA_PITCH.GetAxis()<sp/>*<sp/><ref refid="class_v_a_b_camera_1aff1c61534630213606c8c3e55fe72c7c" kindref="member">orbitSensitivity</ref>;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_input_lock_manager" kindref="compound">InputLockManager</ref>.<ref refid="class_input_lock_manager_1a64134c58b36a7cb458c0d5b8dbc184a6" kindref="member">IsLocked</ref>(<ref refid="_input_lock_manager_8cs_1a0119b266bd804d818bf01e957f37217a" kindref="member">ControlTypes</ref>.GUI))</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_game_settings" kindref="compound">GameSettings</ref>.<ref refid="class_game_settings_1a607745ceb798d26dfebc7a657094a4d4" kindref="member">CAMERA_ORBIT_UP</ref>.<ref refid="class_key_binding_1a264348f47577683f8edd1203a7660ec2" kindref="member">GetKey</ref>())<sp/>camPitch<sp/>=<sp/>camPitch<sp/>+<sp/>1f<sp/>*<sp/>Time.deltaTime;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(<ref refid="class_game_settings" kindref="compound">GameSettings</ref>.<ref refid="class_game_settings_1a0650b831619b55ed5d4fc21af3b63ad5" kindref="member">CAMERA_ORBIT_DOWN</ref>.<ref refid="class_key_binding_1a264348f47577683f8edd1203a7660ec2" kindref="member">GetKey</ref>())<sp/>camPitch<sp/>=<sp/>camPitch<sp/>-<sp/>1f<sp/>*<sp/>Time.deltaTime;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(<ref refid="class_game_settings" kindref="compound">GameSettings</ref>.<ref refid="class_game_settings_1a5afa48888e89f4d1cda663b55d88dc96" kindref="member">CAMERA_ORBIT_LEFT</ref>.<ref refid="class_key_binding_1a264348f47577683f8edd1203a7660ec2" kindref="member">GetKey</ref>())<sp/><ref refid="class_v_a_b_camera_1af1c35884e275b9b05c65590ef3a00d5c" kindref="member">camHdg</ref><sp/>=<sp/><ref refid="class_v_a_b_camera_1af1c35884e275b9b05c65590ef3a00d5c" kindref="member">camHdg</ref><sp/>+<sp/>1f<sp/>*<sp/>Time.deltaTime;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(<ref refid="class_game_settings" kindref="compound">GameSettings</ref>.<ref refid="class_game_settings_1abea7ae1877463c33d15f4e593a01012b" kindref="member">CAMERA_ORBIT_RIGHT</ref>.<ref refid="class_key_binding_1a264348f47577683f8edd1203a7660ec2" kindref="member">GetKey</ref>())<sp/><ref refid="class_v_a_b_camera_1af1c35884e275b9b05c65590ef3a00d5c" kindref="member">camHdg</ref><sp/>=<sp/><ref refid="class_v_a_b_camera_1af1c35884e275b9b05c65590ef3a00d5c" kindref="member">camHdg</ref><sp/>-<sp/>1f<sp/>*<sp/>Time.deltaTime;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>UpdateCamera(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_game_settings" kindref="compound">GameSettings</ref>.<ref refid="class_game_settings_1abdcb96186630d6ef2287b9120060c911" kindref="member">TRACKIR_ENABLED</ref></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/><ref refid="class_game_settings" kindref="compound">GameSettings</ref>.<ref refid="class_game_settings_1a80d936137f9a2be06296a254c9ecc2ed" kindref="member">TRACKIR</ref>.<ref refid="class_track_i_r_1a4bbdda81c6b5dd4ba5a39ae527ce0da5" kindref="member">Instance</ref>.<ref refid="class_track_i_r_1a861a7a00445518e958e633c755a7b195" kindref="member">activeEditors</ref>)</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform.localRotation<sp/>=<sp/>TrackIR.Instance.HeadRotation;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform.localRotation<sp/>=<sp/>Quaternion.identity;</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>UpdateCamera(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>smooth<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1a5c98164be7c3283a9d3367604a75cb8b" kindref="member">camPitch</ref><sp/>=<sp/>Mathf.Clamp(<ref refid="class_v_a_b_camera_1a5c98164be7c3283a9d3367604a75cb8b" kindref="member">camPitch</ref>,<sp/>Mathf.Max(<ref refid="class_v_a_b_camera_1ae99a010781be53ae29a47f9daa5fb384" kindref="member">minPitch</ref>,<sp/>Mathf.Atan2(<ref refid="class_v_a_b_camera_1afa94b35e048ce63fe2514ae705fcdab4" kindref="member">minHeight</ref><sp/>-<sp/><ref refid="class_v_a_b_camera_1a3d12bed20eaf9c3eb6a6cced55be8aab" kindref="member">scrollHeight</ref>,<sp/>distance)),<sp/><ref refid="class_v_a_b_camera_1a3d3faa101f1d120d2aa2bb6973491d98" kindref="member">maxPitch</ref>);</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endRot<sp/>=<sp/>Quaternion.AngleAxis(<ref refid="class_v_a_b_camera_1af1c35884e275b9b05c65590ef3a00d5c" kindref="member">camHdg</ref><sp/>*<sp/>Mathf.Rad2Deg,<sp/>Vector3.up);</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endRot<sp/>*=<sp/>Quaternion.AngleAxis(camPitch<sp/>*<sp/>Mathf.Rad2Deg,<sp/>Vector3.right);</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clampedScrollHeight<sp/>=<sp/><ref refid="class_v_a_b_camera_1a3d12bed20eaf9c3eb6a6cced55be8aab" kindref="member">scrollHeight</ref>;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endPos<sp/>=<sp/>EditorBounds.ClampToCameraBounds(Vector3.up<sp/>*<sp/><ref refid="class_v_a_b_camera_1a3d12bed20eaf9c3eb6a6cced55be8aab" kindref="member">scrollHeight</ref>,<sp/>endRot<sp/>*<sp/>Vector3.forward,<sp/>ref<sp/>clampedScrollHeight);</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distance<sp/>=<sp/>EditorBounds.ClampCameraDistance(distance);</highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(smooth)</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pivot.transform.rotation<sp/>=<sp/>Quaternion.Lerp(pivot.transform.rotation,<sp/>endRot,<sp/><ref refid="class_v_a_b_camera_1ace04f8733a344d858cc1858aa7a73eb4" kindref="member">sharpness</ref><sp/>*<sp/>Time.deltaTime);</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pivot.transform.position<sp/>=<sp/>Vector3.Lerp(pivot.transform.position,<sp/>endPos,<sp/><ref refid="class_v_a_b_camera_1ace04f8733a344d858cc1858aa7a73eb4" kindref="member">sharpness</ref><sp/>*<sp/>Time.deltaTime);</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform.localPosition<sp/>=<sp/>Vector3.Lerp(transform.localPosition,<sp/>Vector3.back<sp/>*<sp/>distance,<sp/><ref refid="class_v_a_b_camera_1ace04f8733a344d858cc1858aa7a73eb4" kindref="member">sharpness</ref><sp/>*<sp/>Time.deltaTime);</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pivot.transform.rotation<sp/>=<sp/>endRot;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pivot.transform.position<sp/>=<sp/>endPos;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform.localPosition<sp/>=<sp/>Vector3.back<sp/>*<sp/>distance;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1ace530c4977789f9fcea7d557d15e06fa" kindref="member">ResetCamera</ref>()</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1a3d12bed20eaf9c3eb6a6cced55be8aab" kindref="member">scrollHeight</ref><sp/>=<sp/><ref refid="class_v_a_b_camera_1afc126b66e871d71b08ba39bae935e528" kindref="member">initialHeight</ref>;</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1a5c98164be7c3283a9d3367604a75cb8b" kindref="member">camPitch</ref><sp/>=<sp/><ref refid="class_v_a_b_camera_1ac1534f03dffad0adab8c3ba0c3622d1c" kindref="member">initialPitch</ref>;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1af1c35884e275b9b05c65590ef3a00d5c" kindref="member">camHdg</ref><sp/>=<sp/><ref refid="class_v_a_b_camera_1a625bd19a86b6293b6510264b9c907fe1" kindref="member">initialHeading</ref>;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="246"><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Transform<sp/><ref refid="class_v_a_b_camera_1a03801e326198098104260e95aa9f45f3" kindref="member">GetPivot</ref>()</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>null;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Transform<sp/><ref refid="class_v_a_b_camera_1a1712e79caf4704385e83f576c08afca0" kindref="member">GetCameraTransform</ref>()</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pivot.transform;</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1ad6120680274723ec8c715a97f28fafdb" kindref="member">SetCamCoordsFromPosition</ref>(Vector3<sp/>wPos)</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Debug.LogError(wPos);</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector3<sp/>coords<sp/>=<sp/>KSPCameraUtil.GetCamCoordsFromPosition(wPos,<sp/>Vector3.up<sp/>*<sp/><ref refid="class_v_a_b_camera_1a3d12bed20eaf9c3eb6a6cced55be8aab" kindref="member">scrollHeight</ref>,<sp/>Quaternion.identity);</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1a5c98164be7c3283a9d3367604a75cb8b" kindref="member">camPitch</ref><sp/>=<sp/>coords.x;</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_v_a_b_camera_1af1c35884e275b9b05c65590ef3a00d5c" kindref="member">camHdg</ref><sp/>=<sp/>coords.y;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distance<sp/>=<sp/>coords.z;</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>System.Func&lt;</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal">&gt;<sp/><ref refid="class_v_a_b_camera_1abeb80a10d1ef290c50ee449bf4d811bb" kindref="member">OnNavigatorTakeOver</ref>(<ref refid="_callback_8cs_1a7aad06b84eedaea282efda0972c4197b" kindref="member">Callback</ref><sp/>onRequestControl)</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface_i_k_s_p_camera_1ab90a51e8ce85052ccb9a1aef6cd3ee73" kindref="member">enabled</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pivot.transform.position<sp/>=<sp/>transform.position;</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pivot.transform.rotation<sp/>=<sp/>transform.rotation;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform.localPosition<sp/>=<sp/>Vector3.zero;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform.localRotation<sp/>=<sp/>Quaternion.identity;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_s_p_camera_util_1a3874fea34d4bb893e85dc205cbf50416" kindref="member">KSPCameraUtil.AnyCameraInputDown</ref>;</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1ad4026afb560d813598a637aca5c87d64" kindref="member">OnNavigatorHandoff</ref>()</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface_i_k_s_p_camera_1ab90a51e8ce85052ccb9a1aef6cd3ee73" kindref="member">enabled</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform.localRotation<sp/>=<sp/>Quaternion.identity;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="286"><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Quaternion<sp/><ref refid="class_v_a_b_camera_1a76e927ae24d790bacf5889b3af031d25" kindref="member">getReferenceFrame</ref>()</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Quaternion.identity;</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1a2bc2ef8a4534134473fd5ce6dc590133" kindref="member">getPitch</ref>()</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1a5c98164be7c3283a9d3367604a75cb8b" kindref="member">camPitch</ref><sp/>*<sp/>Mathf.Rad2Deg;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1a54d617ac74f1422ecc19a36605f2e01b" kindref="member">getYaw</ref>()</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1af1c35884e275b9b05c65590ef3a00d5c" kindref="member">camHdg</ref><sp/>*<sp/>Mathf.Rad2Deg;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_v_a_b_camera_1a54054d0c310c6ae62a22dcd1b7ea29d9" kindref="member">OnNavigatorRequestControl</ref>()</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>InputLockManager.IsUnlocked(<ref refid="_input_lock_manager_8cs_1a0119b266bd804d818bf01e957f37217aaa4bf5d148479e1ef1cd420acfd78b951" kindref="member">ControlTypes.CAMERACONTROLS</ref>);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="306"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="D:/Workspace/KSP1/KSP/KSP/Assets/Scripts/Editors/VABCamera.cs"/>
  </compounddef>
</doxygen>
